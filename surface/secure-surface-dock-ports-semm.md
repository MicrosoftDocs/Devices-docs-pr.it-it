---
title: Proteggere Surface Dock 2 porte con la modalità di gestione di Surface Enterprise (SEMM)
description: Questo documento fornisce indicazioni per la configurazione delle impostazioni della porta UEFI per Surface Dock 2 quando si è connessi a dispositivi Surface compatibili, tra cui Surface Book 3, Surface laptop 3 e Surface Pro 7.
ms.assetid: 2808a8be-e2d4-4cb6-bd53-9d10c0d3e1d6
ms.reviewer: ''
manager: laurawi
keywords: Risolvere i problemi comuni, problemi di installazione
ms.prod: w10
ms.mktglfcycl: support
ms.sitesec: library
ms.pagetype: surfacehub
author: v-miegge
ms.author: jesko
ms.topic: article
ms.date: 06/08/2020
ms.localizationpriority: medium
ms.audience: itpro
ms.openlocfilehash: de16d76581926a90585b2c6beb2a7bf3b7a695bc
ms.sourcegitcommit: 109d1d7608ac4667564fa5369e8722e569b8ea36
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 06/27/2020
ms.locfileid: "10832276"
---
# <span data-ttu-id="fa332-104">Proteggere Surface Dock 2 porte con la modalità di gestione di Surface Enterprise (SEMM)</span><span class="sxs-lookup"><span data-stu-id="fa332-104">Secure Surface Dock 2 ports with Surface Enterprise Management Mode (SEMM)</span></span>

## <span data-ttu-id="fa332-105">Introduzione</span><span class="sxs-lookup"><span data-stu-id="fa332-105">Introduction</span></span>

<span data-ttu-id="fa332-106">Surface Enterprise Management Mode (SEMM) consente agli amministratori IT di proteggere e gestire le porte di Surface Dock 2 configurando le impostazioni UEFI in un pacchetto di configurazione di Windows Installer (. File MSI) distribuito in dispositivi Surface compatibili in un ambiente aziendale.</span><span class="sxs-lookup"><span data-stu-id="fa332-106">Surface Enterprise Management Mode (SEMM) enables IT admins to secure and manage Surface Dock 2 ports by configuring UEFI settings in a Windows installer configuration package (.MSI file) deployed to compatible Surface devices across a corporate environment.</span></span>

### <span data-ttu-id="fa332-107">Dispositivi supportati</span><span class="sxs-lookup"><span data-stu-id="fa332-107">Supported devices</span></span>

<span data-ttu-id="fa332-108">La gestione di Surface Dock 2 con SEMM è disponibile per i banchi collegati a Surface Book 3, Surface laptop 3 e Surface Pro 7.</span><span class="sxs-lookup"><span data-stu-id="fa332-108">Managing Surface Dock 2 with SEMM is available for docks connected to Surface Book 3, Surface Laptop 3, and Surface Pro 7.</span></span> <span data-ttu-id="fa332-109">Questi dispositivi Surface compatibili vengono comunemente definiti **dispositivi host**.</span><span class="sxs-lookup"><span data-stu-id="fa332-109">These compatible Surface devices are commonly referred to as **host devices**.</span></span> <span data-ttu-id="fa332-110">Un pacchetto viene applicato ai dispositivi host in base a se un dispositivo host è **autenticato** o non **autenticato**.</span><span class="sxs-lookup"><span data-stu-id="fa332-110">A package is applied to host devices based on if a host device is **authenticated** or **unauthenticated**.</span></span> <span data-ttu-id="fa332-111">Le impostazioni configurate si trovano nel layer UEFI nei dispositivi host che consentono all'amministratore IT di gestire Surface Dock 2, come qualsiasi altra periferica incorporata, ad esempio la fotocamera.</span><span class="sxs-lookup"><span data-stu-id="fa332-111">Configured settings reside in the UEFI layer on host devices enabling you — the IT admin — to manage Surface Dock 2 just like any other built-in peripheral such as the camera.</span></span>

>[!NOTE]
><span data-ttu-id="fa332-112">È possibile gestire le porte di Surface Dock 2 solo quando il Dock è connesso a uno dei seguenti dispositivi compatibili: Surface Book 3, Surface laptop 3 e Surface Pro 7.</span><span class="sxs-lookup"><span data-stu-id="fa332-112">You can manage Surface Dock 2 ports only when the dock is connected to one of the following compatible devices:  Surface Book 3, Surface Laptop 3, and Surface Pro 7.</span></span> <span data-ttu-id="fa332-113">Qualsiasi dispositivo che non riceve le impostazioni dei criteri autenticati UEFI è intrinsecamente un dispositivo non autenticato.</span><span class="sxs-lookup"><span data-stu-id="fa332-113">Any device that doesn't receive the UEFI Authenticated policy settings is inherently an unauthenticated device.</span></span>

### <span data-ttu-id="fa332-114">Scenari</span><span class="sxs-lookup"><span data-stu-id="fa332-114">Scenarios</span></span>

<span data-ttu-id="fa332-115">La restrizione di Surface Dock 2 alle persone autorizzate che hanno effettuato l'accesso a un dispositivo host aziendale offre un altro livello di protezione dei dati.</span><span class="sxs-lookup"><span data-stu-id="fa332-115">Restricting Surface Dock 2 to authorized persons signed into a corporate host device provides another layer of data protection.</span></span> <span data-ttu-id="fa332-116">Questa possibilità di bloccare Surface Dock 2 è fondamentale per i clienti specifici in ambienti altamente sicuri che vogliono beneficiare della funzionalità e della produttività del Dock mantenendo la conformità ai protocolli di sicurezza rigorosi.</span><span class="sxs-lookup"><span data-stu-id="fa332-116">This ability to lock down Surface Dock 2 is critical for specific customers in highly secure environments who want the functionality and productivity benefits of the dock while maintaining compliance with strict security protocols.</span></span> <span data-ttu-id="fa332-117">Anticipiamo che SEMM usato con Surface Dock 2 sarà particolarmente utile in uffici aperti e spazi condivisi in particolare per i clienti che vogliono bloccare le porte USB per motivi di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="fa332-117">We anticipate SEMM used with Surface Dock 2 will be particularly useful in open offices and shared spaces especially for customers who want to lock USB ports for security reasons.</span></span> <span data-ttu-id="fa332-118">Per una dimostrazione video, vedere [SEMM per Surface Dock 2](https://youtu.be/VLV19ISvq_s).</span><span class="sxs-lookup"><span data-stu-id="fa332-118">For a video demo, check out [SEMM for Surface Dock 2](https://youtu.be/VLV19ISvq_s).</span></span>

## <span data-ttu-id="fa332-119">Configurazione e distribuzione di impostazioni UEFI per Surface Dock 2</span><span class="sxs-lookup"><span data-stu-id="fa332-119">Configuring and deploying UEFI settings for Surface Dock 2</span></span>

<span data-ttu-id="fa332-120">In questa sezione vengono fornite indicazioni dettagliate per le attività seguenti:</span><span class="sxs-lookup"><span data-stu-id="fa332-120">This section provides step-by-step guidance for the following tasks:</span></span>

1. <span data-ttu-id="fa332-121">Installare [**Surface UEFI Configurator**](https://www.microsoft.com/download/details.aspx?id=46703).</span><span class="sxs-lookup"><span data-stu-id="fa332-121">Install [**Surface UEFI Configurator**](https://www.microsoft.com/download/details.aspx?id=46703).</span></span>
1. <span data-ttu-id="fa332-122">Creare o ottenere certificati di chiave pubblica.</span><span class="sxs-lookup"><span data-stu-id="fa332-122">Create or obtain public key certificates.</span></span>
1. <span data-ttu-id="fa332-123">Creare un oggetto. Pacchetto di configurazione MSI.</span><span class="sxs-lookup"><span data-stu-id="fa332-123">Create an .MSI configuration package.</span></span>
   1. <span data-ttu-id="fa332-124">Aggiungere i certificati.</span><span class="sxs-lookup"><span data-stu-id="fa332-124">Add your certificates.</span></span>
   1. <span data-ttu-id="fa332-125">Immettere il numero di 16 cifre della Marina militare per i dispositivi Surface Dock 2.</span><span class="sxs-lookup"><span data-stu-id="fa332-125">Enter the 16-digit RN number for your Surface Dock 2 devices.</span></span>
   1. <span data-ttu-id="fa332-126">Configurare le impostazioni UEFI.</span><span class="sxs-lookup"><span data-stu-id="fa332-126">Configure UEFI settings.</span></span>
1. <span data-ttu-id="fa332-127">Creare e applicare il pacchetto di configurazione ai dispositivi Surface mirati (Surface Book 3, Surface laptop 3 o Surface Pro 7).</span><span class="sxs-lookup"><span data-stu-id="fa332-127">Build and apply the configuration package to targeted Surface devices (Surface Book 3, Surface Laptop 3, or Surface Pro 7.)</span></span>

>[!NOTE]
><span data-ttu-id="fa332-128">Il **numero casuale (RN)** è un identificatore univoco del codice esadecimale a 16 cifre che viene provisionato in fabbrica e stampato in piccolo tipo nella parte inferiore del Dock.</span><span class="sxs-lookup"><span data-stu-id="fa332-128">The **Random Number (RN)** is a unique 16-digit hex code identifier which is provisioned at the factory, and printed in small type on the underside of the dock.</span></span> <span data-ttu-id="fa332-129">Il RN si differenzia dalla maggior parte dei numeri seriali, in quanto non può essere letto elettronicamente.</span><span class="sxs-lookup"><span data-stu-id="fa332-129">The RN differs from most serial numbers in that it can't be read electronically.</span></span> <span data-ttu-id="fa332-130">Questo assicura che la prova di proprietà sia principalmente stabilita solo leggendo la RN quando si accede fisicamente al dispositivo.</span><span class="sxs-lookup"><span data-stu-id="fa332-130">This ensures proof of ownership is primarily established only by reading the RN when physically accessing the device.</span></span> <span data-ttu-id="fa332-131">La Marina militare può essere ottenuta anche durante la transazione di acquisto ed è registrata nei sistemi di inventario Microsoft.</span><span class="sxs-lookup"><span data-stu-id="fa332-131">The RN may also be obtained during the purchase transaction and is recorded in Microsoft inventory systems.</span></span>

### <span data-ttu-id="fa332-132">Installare SEMM e Surface UEFI Configurator</span><span class="sxs-lookup"><span data-stu-id="fa332-132">Install SEMM and Surface UEFI Configurator</span></span>

<span data-ttu-id="fa332-133">Installare SEMM eseguendo **SurfaceUEFI_Configurator_v2.71.139.0.msi**.</span><span class="sxs-lookup"><span data-stu-id="fa332-133">Install SEMM by running **SurfaceUEFI_Configurator_v2.71.139.0.msi**.</span></span> <span data-ttu-id="fa332-134">Si tratta di un programma di installazione autonomo e contiene tutto il necessario per creare e distribuire pacchetti di configurazione per Surface Dock 2.</span><span class="sxs-lookup"><span data-stu-id="fa332-134">This is a standalone installer and contains everything you need to create and distribute configuration packages for Surface Dock 2.</span></span>

- <span data-ttu-id="fa332-135">Scaricare **Surface UEFI Configurator** da [strumenti di Surface](https://www.microsoft.com/en-us/download/details.aspx?id=46703).</span><span class="sxs-lookup"><span data-stu-id="fa332-135">Download **Surface UEFI Configurator** from [Surface Tools for IT](https://www.microsoft.com/en-us/download/details.aspx?id=46703).</span></span>

## <span data-ttu-id="fa332-136">Creare certificati di chiave pubblica</span><span class="sxs-lookup"><span data-stu-id="fa332-136">Create public key certificates</span></span>

<span data-ttu-id="fa332-137">Questa sezione fornisce le specifiche per la creazione dei certificati necessari per gestire le porte per Surface Dock 2.</span><span class="sxs-lookup"><span data-stu-id="fa332-137">This section provides specifications for creating the certificates needed to manage ports for Surface Dock 2.</span></span>

### <span data-ttu-id="fa332-138">Prerequisiti</span><span class="sxs-lookup"><span data-stu-id="fa332-138">Prerequisites</span></span>

<span data-ttu-id="fa332-139">In questo articolo si presuppone che si ottengano certificati da un provider di terze parti o si disponga già di competenze in Servizi certificati PKI e si sappia come crearne uno personalizzato.</span><span class="sxs-lookup"><span data-stu-id="fa332-139">This article assumes that you either obtain certificates from a third-party provider or you already have expertise in PKI certificate services and know how to create your own.</span></span>  <span data-ttu-id="fa332-140">È necessario avere familiarità con e seguire le raccomandazioni generali per la creazione di certificati come descritto nella documentazione di [Surface Enterprise Management Mode (SEMM)](https://docs.microsoft.com/surface/surface-enterprise-management-mode) , con un'unica eccezione.</span><span class="sxs-lookup"><span data-stu-id="fa332-140">You should be familiar with and follow the general recommendations for creating certificates as described in [Surface Enterprise Management Mode (SEMM)](https://docs.microsoft.com/surface/surface-enterprise-management-mode) documentation, with one exception.</span></span> <span data-ttu-id="fa332-141">I certificati documentati in questa pagina richiedono termini di scadenza di 30 anni per l' **autorità di certificazione Dock**e 20 anni per il **certificato di autenticazione host**.</span><span class="sxs-lookup"><span data-stu-id="fa332-141">The certificates documented on this page require expiration terms of 30 years for the **Dock Certificate Authority**, and 20 years for the **Host Authentication Certificate**.</span></span>

<span data-ttu-id="fa332-142">Per altre informazioni, vedere la documentazione relativa all' [architettura di Servizi certificati](https://docs.microsoft.com/windows/win32/seccrypto/certificate-services-architecture) e rivedere i capitoli appropriati in [Windows Server 2019 inside out](https://www.microsoftpressstore.com/store/windows-server-2019-inside-out-9780135492277)o [PKI di Windows Server 2008 e la sicurezza dei certificati](https://www.microsoftpressstore.com/store/windows-server-2008-pki-and-certificate-security-9780735640788) disponibile in Microsoft Press.</span><span class="sxs-lookup"><span data-stu-id="fa332-142">For more information, see [Certificate Services Architecture](https://docs.microsoft.com/windows/win32/seccrypto/certificate-services-architecture) documentation and review the appropriate chapters in [Windows Server 2019 Inside Out](https://www.microsoftpressstore.com/store/windows-server-2019-inside-out-9780135492277), or [Windows Server 2008 PKI and Certificate Security](https://www.microsoftpressstore.com/store/windows-server-2008-pki-and-certificate-security-9780735640788) available from Microsoft Press.</span></span>

### <span data-ttu-id="fa332-143">Requisiti per i certificati radice e host</span><span class="sxs-lookup"><span data-stu-id="fa332-143">Root and host certificate requirements</span></span>

<span data-ttu-id="fa332-144">Prima di creare il pacchetto di configurazione, è necessario preparare i certificati di chiave pubblica che autenticano la proprietà di Surface Dock 2 e facilitare eventuali modifiche successive della proprietà durante il ciclo di vita del dispositivo.</span><span class="sxs-lookup"><span data-stu-id="fa332-144">Prior to creating the configuration package, you need to prepare public key certificates that authenticate ownership of Surface Dock 2 and facilitate any subsequent changes in ownership during the device lifecycle.</span></span> <span data-ttu-id="fa332-145">I certificati host e provisioning richiedono l'immissione di ID EKU, altrimenti noti come **identificatori di oggetti (EKU) per l'autenticazione client (OID)**.</span><span class="sxs-lookup"><span data-stu-id="fa332-145">The host and provisioning certificates require entering EKU IDs otherwise known as **Client Authentication Enhanced Key Usage (EKU) object identifiers (OIDs)**.</span></span>

<span data-ttu-id="fa332-146">I valori EKU necessari sono elencati nella tabella 1 e nella tabella 2.</span><span class="sxs-lookup"><span data-stu-id="fa332-146">The required EKU values are listed in Table 1 and Table 2.</span></span>

#### <span data-ttu-id="fa332-147">Tabella 1.</span><span class="sxs-lookup"><span data-stu-id="fa332-147">Table 1.</span></span> <span data-ttu-id="fa332-148">Requisiti di certificato radice e ancoraggio</span><span class="sxs-lookup"><span data-stu-id="fa332-148">Root and Dock Certificate requirements</span></span>

|<span data-ttu-id="fa332-149">Certificato</span><span class="sxs-lookup"><span data-stu-id="fa332-149">Certificate</span></span>|<span data-ttu-id="fa332-150">Algoritmo</span><span class="sxs-lookup"><span data-stu-id="fa332-150">Algorithm</span></span>|<span data-ttu-id="fa332-151">Descrizione</span><span class="sxs-lookup"><span data-stu-id="fa332-151">Description</span></span>|<span data-ttu-id="fa332-152">Scadenza</span><span class="sxs-lookup"><span data-stu-id="fa332-152">Expiration</span></span>|<span data-ttu-id="fa332-153">OID EKU</span><span class="sxs-lookup"><span data-stu-id="fa332-153">EKU OID</span></span>|
|---|---|---|---|---|
|<span data-ttu-id="fa332-154">Autorità di certificazione radice</span><span class="sxs-lookup"><span data-stu-id="fa332-154">Root Certificate Authority</span></span>|<span data-ttu-id="fa332-155">ECDSA_P384</span><span class="sxs-lookup"><span data-stu-id="fa332-155">ECDSA_P384</span></span>|<span data-ttu-id="fa332-156">-Certificato radice con algoritmo di firma digitale a curva ellittica prime 384 bit (ECDSA)</span><span class="sxs-lookup"><span data-stu-id="fa332-156">- Root certificate with 384-bit prime elliptic curve digital signature algorithm (ECDSA)</span></span><br><span data-ttu-id="fa332-157">-Utilizzo della chiave SHA 256:</span><span class="sxs-lookup"><span data-stu-id="fa332-157">- SHA 256 Key Usage:</span></span><br><span data-ttu-id="fa332-158">CERT_DIGITAL_SIGNATURE_KEY_USAGE</span><span class="sxs-lookup"><span data-stu-id="fa332-158">CERT_DIGITAL_SIGNATURE_KEY_USAGE</span></span><br><span data-ttu-id="fa332-159">-CERT_KEY_CERT_SIGN_KEY_USAGE</span><span class="sxs-lookup"><span data-stu-id="fa332-159">- CERT_KEY_CERT_SIGN_KEY_USAGE</span></span><br><span data-ttu-id="fa332-160">CERT_CRL_SIGN_KEY_USAGE</span><span class="sxs-lookup"><span data-stu-id="fa332-160">CERT_CRL_SIGN_KEY_USAGE</span></span>|<span data-ttu-id="fa332-161">30 anni</span><span class="sxs-lookup"><span data-stu-id="fa332-161">30 years</span></span>|<span data-ttu-id="fa332-162">N/D</span><span class="sxs-lookup"><span data-stu-id="fa332-162">N/A</span></span>
|<span data-ttu-id="fa332-163">Autorità di certificazione di ancoraggio</span><span class="sxs-lookup"><span data-stu-id="fa332-163">Dock Certificate Authority</span></span>|<span data-ttu-id="fa332-164">Curva P256 ECC</span><span class="sxs-lookup"><span data-stu-id="fa332-164">ECC P256 curve</span></span>|<span data-ttu-id="fa332-165">-Certificato host con crittografia a curva ellittica a 256 bit (ECC)</span><span class="sxs-lookup"><span data-stu-id="fa332-165">- Host certificate with 256-bit elliptic-curve cryptography (ECC)</span></span><br><span data-ttu-id="fa332-166">-Utilizzo della chiave SHA 256:</span><span class="sxs-lookup"><span data-stu-id="fa332-166">- SHA 256 Key Usage:</span></span><br><span data-ttu-id="fa332-167">CERT_KEY_CERT_SIGN_KEY_USAGE</span><span class="sxs-lookup"><span data-stu-id="fa332-167">CERT_KEY_CERT_SIGN_KEY_USAGE</span></span><br><span data-ttu-id="fa332-168">-Vincolo Lunghezza percorso = 0</span><span class="sxs-lookup"><span data-stu-id="fa332-168">- Path Length Constraint = 0</span></span>|<span data-ttu-id="fa332-169">20 anni</span><span class="sxs-lookup"><span data-stu-id="fa332-169">20 years</span></span>|<span data-ttu-id="fa332-170">1.3.6.1.4.1.311.76.9.21.2</span><span class="sxs-lookup"><span data-stu-id="fa332-170">1.3.6.1.4.1.311.76.9.21.2</span></span><br><span data-ttu-id="fa332-171">1.3.6.1.4.1.311.76.9.21.3</span><span class="sxs-lookup"><span data-stu-id="fa332-171">1.3.6.1.4.1.311.76.9.21.3</span></span>|

   >[!NOTE]
   ><span data-ttu-id="fa332-172">La CA di ancoraggio deve essere esportata come file con estensione p7b.</span><span class="sxs-lookup"><span data-stu-id="fa332-172">The dock CA must be exported as a .p7b file.</span></span>

### <span data-ttu-id="fa332-173">Requisiti per il provisioning dei certificati di amministrazione</span><span class="sxs-lookup"><span data-stu-id="fa332-173">Provisioning Administration Certificate requirements</span></span>

<span data-ttu-id="fa332-174">Ogni dispositivo host deve avere la CA doc e due certificati come illustrato nella tabella 2.</span><span class="sxs-lookup"><span data-stu-id="fa332-174">Each host device must have the doc CA and two certificates as shown in Table 2.</span></span>

#### <span data-ttu-id="fa332-175">Tabella 2.</span><span class="sxs-lookup"><span data-stu-id="fa332-175">Table 2.</span></span> <span data-ttu-id="fa332-176">Requisiti per il provisioning dei certificati di amministrazione</span><span class="sxs-lookup"><span data-stu-id="fa332-176">Provisioning administration certificate requirements</span></span>

|<span data-ttu-id="fa332-177">Certificato</span><span class="sxs-lookup"><span data-stu-id="fa332-177">Certificate</span></span>|<span data-ttu-id="fa332-178">Algoritmo</span><span class="sxs-lookup"><span data-stu-id="fa332-178">Algorithm</span></span>|<span data-ttu-id="fa332-179">Descrizione</span><span class="sxs-lookup"><span data-stu-id="fa332-179">Description</span></span>|<span data-ttu-id="fa332-180">OID EKU</span><span class="sxs-lookup"><span data-stu-id="fa332-180">EKU OID</span></span>|
|---|---|---|---|
|<span data-ttu-id="fa332-181">Certificato di autenticazione host</span><span class="sxs-lookup"><span data-stu-id="fa332-181">Host authentication certificate</span></span>|<span data-ttu-id="fa332-182">ECC P256</span><span class="sxs-lookup"><span data-stu-id="fa332-182">ECC P256</span></span><br><span data-ttu-id="fa332-183">SHA 256</span><span class="sxs-lookup"><span data-stu-id="fa332-183">SHA 256</span></span>|<span data-ttu-id="fa332-184">Dimostra l'identità del dispositivo host.</span><span class="sxs-lookup"><span data-stu-id="fa332-184">Proves the identity of the host device.</span></span>|<span data-ttu-id="fa332-185">1.3.6.1.4.1.311.76.9.21.2</span><span class="sxs-lookup"><span data-stu-id="fa332-185">1.3.6.1.4.1.311.76.9.21.2</span></span>|
|<span data-ttu-id="fa332-186">Certificato di amministrazione di provisioning</span><span class="sxs-lookup"><span data-stu-id="fa332-186">Provisioning administration certificate</span></span>|<span data-ttu-id="fa332-187">ECC P256</span><span class="sxs-lookup"><span data-stu-id="fa332-187">ECC P256</span></span><br><span data-ttu-id="fa332-188">SHA256</span><span class="sxs-lookup"><span data-stu-id="fa332-188">SHA256</span></span>|<span data-ttu-id="fa332-189">Consente di modificare le impostazioni di proprietà e/o criteri di ancoraggio consentendo di sostituire la CA attualmente installata nel Dock.</span><span class="sxs-lookup"><span data-stu-id="fa332-189">Enables you to change dock ownership and/or policy settings by allowing you to replace the CA that's currently installed on the dock.</span></span>|<span data-ttu-id="fa332-190">1.3.6.1.4.1.311.76.9.21.3</span><span class="sxs-lookup"><span data-stu-id="fa332-190">1.3.6.1.4.1.311.76.9.21.3</span></span><br><span data-ttu-id="fa332-191">1.3.6.1.4.1.311.76.9.21.4</span><span class="sxs-lookup"><span data-stu-id="fa332-191">1.3.6.1.4.1.311.76.9.21.4</span></span>|

   >[!NOTE]
   ><span data-ttu-id="fa332-192">I certificati di autenticazione e di provisioning host devono essere esportati come file PFX.</span><span class="sxs-lookup"><span data-stu-id="fa332-192">The host authentication and provisioning certificates must be exported as .pfx files.</span></span>

### <span data-ttu-id="fa332-193">Creare un pacchetto di configurazione</span><span class="sxs-lookup"><span data-stu-id="fa332-193">Create configuration package</span></span>

<span data-ttu-id="fa332-194">Dopo aver ottenuto o creato i certificati, si è pronti a creare il pacchetto di configurazione MSI che verrà applicato ai dispositivi della superficie di destinazione.</span><span class="sxs-lookup"><span data-stu-id="fa332-194">When you have obtained or created the certificates, you’re ready to build the MSI configuration package that will be applied to target Surface devices.</span></span>

1. <span data-ttu-id="fa332-195">Eseguire il **Configuratore UEFI**Surface.</span><span class="sxs-lookup"><span data-stu-id="fa332-195">Run Surface **UEFI Configurator**.</span></span>

   ![Eseguire il configuratore UEFI Surface](images/secure-surface-dock-ports-semm-1.png)

1. <span data-ttu-id="fa332-197">Selezionare **Surface Dock**.</span><span class="sxs-lookup"><span data-stu-id="fa332-197">Select **Surface Dock**.</span></span>

   ![Selezionare Surface Dock](images/secure-surface-dock-ports-semm-2.png)

1. <span data-ttu-id="fa332-199">Nella pagina certificato immettere i **certificati**appropriati.</span><span class="sxs-lookup"><span data-stu-id="fa332-199">On the certificate page, enter the appropriate **certificates**.</span></span>

   ![Immettere i certificati appropriati](images/secure-surface-dock-ports-semm-3.png)

1. <span data-ttu-id="fa332-201">Aggiungere il Dock RNs appropriato all'elenco.</span><span class="sxs-lookup"><span data-stu-id="fa332-201">Add appropriate dock RNs to the list.</span></span>

   >[!NOTE]
   ><span data-ttu-id="fa332-202">Quando si crea un pacchetto di configurazione per più dispositivi Surface Dock 2, invece di immettere manualmente ogni RN, è possibile usare un file CSV che contiene un elenco di RNs.</span><span class="sxs-lookup"><span data-stu-id="fa332-202">When creating a configuration package for multiple Surface Dock 2 devices, instead of entering each RN manually, you can use a .csv file that contains a list of RNs.</span></span>

1. <span data-ttu-id="fa332-203">Specificare le impostazioni dei criteri per le porte USB, Ethernet e audio.</span><span class="sxs-lookup"><span data-stu-id="fa332-203">Specify your policy settings for USB data, Ethernet, and Audio ports.</span></span> <span data-ttu-id="fa332-204">UEFI Configurator consente di configurare le impostazioni dei criteri per gli utenti autenticati (criteri autenticati) e gli utenti non autenticati (criteri non autenticati).</span><span class="sxs-lookup"><span data-stu-id="fa332-204">UEFI Configurator lets you configure policy settings for authenticated users (Authenticated Policy) and unauthenticated users (Unauthenticated Policy).</span></span> <span data-ttu-id="fa332-205">La figura seguente mostra l'accesso alla porta attivato per gli utenti autenticati e disattivato per gli utenti non autenticati.</span><span class="sxs-lookup"><span data-stu-id="fa332-205">The following figure shows port access turned on for authenticated users and turned off for unauthenticated users.</span></span>

   ![Scegliere i componenti che si desidera attivare o disattivare.](images/secure-surface-dock-ports-semm-4.png)

   - <span data-ttu-id="fa332-207">L'utente autenticato fa riferimento a un dispositivo Surface con i certificati appropriati installati, come configurato in. Pacchetto di configurazione MSI applicato ai dispositivi di destinazione.</span><span class="sxs-lookup"><span data-stu-id="fa332-207">Authenticated user refers to a Surface Device that has the appropriate certificates installed, as configured in the .MSI configuration package that you applied to target devices.</span></span> <span data-ttu-id="fa332-208">Si applica a qualsiasi utente autenticato dall'utente che accede al dispositivo.</span><span class="sxs-lookup"><span data-stu-id="fa332-208">It applies to any user authenticated user who signs into the device.</span></span> 
   - <span data-ttu-id="fa332-209">L'utente non autenticato fa riferimento a qualsiasi altro dispositivo.</span><span class="sxs-lookup"><span data-stu-id="fa332-209">Unauthenticated user refers to any other device.</span></span>
   - <span data-ttu-id="fa332-210">Selezionare **Reimposta** per creare un pacchetto "reset" speciale che eliminerà qualsiasi pacchetto di configurazione precedente accettato dal Dock.</span><span class="sxs-lookup"><span data-stu-id="fa332-210">Select **Reset** to create a special “Reset” package that will remove any previous configuration package that the dock had accepted.</span></span>

1. <span data-ttu-id="fa332-211">Selezionare **Compila** per creare il pacchetto come specificato.</span><span class="sxs-lookup"><span data-stu-id="fa332-211">Select **Build** to create the package as specified.</span></span>

### <span data-ttu-id="fa332-212">Applicare il pacchetto di configurazione a una superficie Dock 2</span><span class="sxs-lookup"><span data-stu-id="fa332-212">Apply the configuration package to a Surface Dock 2</span></span>

1. <span data-ttu-id="fa332-213">È stato creato il file MSI di Surface UEFI Configurator e installato in un dispositivo host Surface.</span><span class="sxs-lookup"><span data-stu-id="fa332-213">Take the MSI file that the Surface UEFI Configurator generated and install it on a Surface host device.</span></span> <span data-ttu-id="fa332-214">I dispositivi host compatibili sono Surface Book 3, Surface laptop 3 o Surface Pro 7.</span><span class="sxs-lookup"><span data-stu-id="fa332-214">Compatible host devices are Surface Book 3, Surface Laptop 3, or Surface Pro 7.</span></span>
1. <span data-ttu-id="fa332-215">Connettere il dispositivo host al Dock Surface 2.</span><span class="sxs-lookup"><span data-stu-id="fa332-215">Connect the host device to the Surface Dock 2.</span></span> <span data-ttu-id="fa332-216">Quando si collegano le impostazioni dei criteri di dock UEFI vengono applicate.</span><span class="sxs-lookup"><span data-stu-id="fa332-216">When you connect the dock UEFI policy settings are applied.</span></span>

## <span data-ttu-id="fa332-217">Verificare lo stato gestito con l'app Surface</span><span class="sxs-lookup"><span data-stu-id="fa332-217">Verify managed state using the Surface App</span></span>

<span data-ttu-id="fa332-218">Dopo aver applicato il pacchetto di configurazione, è possibile verificare rapidamente lo stato dei criteri risultante del Dock direttamente dall'app Surface, installato per impostazione predefinita in tutti i dispositivi Surface.</span><span class="sxs-lookup"><span data-stu-id="fa332-218">Once you have applied the configuration package, you can quickly verify the resultant policy state of the dock directly from the Surface App, installed by default on all Surface devices.</span></span> <span data-ttu-id="fa332-219">Se l'app Surface non è presente nel dispositivo, è possibile scaricarla e installarla da Microsoft Store.</span><span class="sxs-lookup"><span data-stu-id="fa332-219">If Surface App isn't present on the device, you can download and install it from the Microsoft Store.</span></span>

### <span data-ttu-id="fa332-220">Scenario di test</span><span class="sxs-lookup"><span data-stu-id="fa332-220">Test scenario</span></span>

<span data-ttu-id="fa332-221">Obiettivo: configurare le impostazioni dei criteri per consentire l'accesso tramite la porta solo agli utenti autenticati.</span><span class="sxs-lookup"><span data-stu-id="fa332-221">Objective: Configure policy settings to allow port access by authenticated users only.</span></span>

1. <span data-ttu-id="fa332-222">Attivare tutte le porte per gli utenti autenticati e disattivarle per gli utenti non autenticati.</span><span class="sxs-lookup"><span data-stu-id="fa332-222">Turn on all ports for authenticated users and turn them off for unauthenticated users.</span></span>

   ![Abilitazione delle porte per gli utenti autenticati](images/secure-surface-dock-ports-semm-4.png)

1. <span data-ttu-id="fa332-224">Applicare il pacchetto di configurazione al dispositivo di destinazione e quindi connettere Surface Dock 2.</span><span class="sxs-lookup"><span data-stu-id="fa332-224">Apply the configuration package to your target device and then connect Surface Dock 2.</span></span>

1. <span data-ttu-id="fa332-225">Aprire l' **app Surface** e selezionare **Surface Dock** per visualizzare lo stato dei criteri risultante della superficie di ancoraggio.</span><span class="sxs-lookup"><span data-stu-id="fa332-225">Open **Surface App** and select **Surface Dock** to view the resultant policy state of your Surface Dock.</span></span> <span data-ttu-id="fa332-226">Se vengono applicate le impostazioni dei criteri, l'app Surface indicherà che le porte sono disponibili.</span><span class="sxs-lookup"><span data-stu-id="fa332-226">If the policy settings are applied, Surface App will indicate that ports are available.</span></span>

   ![App Surface Mostra che tutte le porte sono disponibili per gli utenti autenticati](images/secure-surface-dock-ports-semm-5.png)

1. <span data-ttu-id="fa332-228">Ora è necessario verificare che le impostazioni dei criteri abbiano disattivato tutte le porte per gli utenti non autenticati.</span><span class="sxs-lookup"><span data-stu-id="fa332-228">Now you need to verify that the policy settings have successfully turned off all ports for unauthenticated users.</span></span> <span data-ttu-id="fa332-229">Connettere Surface Dock 2 a un dispositivo non gestito, ad esempio qualsiasi dispositivo Surface esterno all'ambito di gestione per il pacchetto di configurazione creato.</span><span class="sxs-lookup"><span data-stu-id="fa332-229">Connect Surface Dock 2 to an unmanaged device, i.e., any Surface device outside the scope of management for the configuration package you created.</span></span>

1. <span data-ttu-id="fa332-230">Aprire l' **app Surface** e selezionare **Surface Dock**.</span><span class="sxs-lookup"><span data-stu-id="fa332-230">Open **Surface App** and select **Surface Dock**.</span></span> <span data-ttu-id="fa332-231">Lo stato dei criteri risultante indicherà che le porte sono disattivate.</span><span class="sxs-lookup"><span data-stu-id="fa332-231">The resultant policy state will indicate ports are turned off.</span></span>

   ![<span data-ttu-id="fa332-232">App Surface che mostra le porte disattivate per gli utenti non autenticati</span><span class="sxs-lookup"><span data-stu-id="fa332-232">Surface app showing ports turned off for unauthenticated users</span></span> ](images/secure-surface-dock-ports-semm-6.png)

>[!NOTE]
><span data-ttu-id="fa332-233">Se si vuole conservare la proprietà del dispositivo, ma consentire a tutti gli utenti l'accesso completo, è possibile creare un nuovo pacchetto con tutto ciò che è stato attivato.</span><span class="sxs-lookup"><span data-stu-id="fa332-233">If you want to keep ownership of the device, but allow all users full access, you can make a new package with everything turned on.</span></span> <span data-ttu-id="fa332-234">Se si vuole rimuovere completamente le restrizioni e la proprietà del dispositivo (renderlo non gestito), selezionare **Reimposta** in Surface UEFI Configurator per creare un pacchetto da applicare ai dispositivi di destinazione.</span><span class="sxs-lookup"><span data-stu-id="fa332-234">If you wish to completely remove the restrictions and ownership of the device (make it unmanaged), select **Reset** in Surface UEFI Configurator to create a package to apply to target devices.</span></span>

<span data-ttu-id="fa332-235">Congratulazioni.</span><span class="sxs-lookup"><span data-stu-id="fa332-235">Congratulations.</span></span> <span data-ttu-id="fa332-236">Sono state gestite correttamente le porte di Surface Dock 2 nei dispositivi host mirati.</span><span class="sxs-lookup"><span data-stu-id="fa332-236">You have successfully managed Surface Dock 2 ports on targeted host devices.</span></span>

## <span data-ttu-id="fa332-237">Scopri di più</span><span class="sxs-lookup"><span data-stu-id="fa332-237">Learn more</span></span>

- [<span data-ttu-id="fa332-238">Documentazione sulla modalità di gestione di Surface Enterprise (SEMM)</span><span class="sxs-lookup"><span data-stu-id="fa332-238">Surface Enterprise Management Mode (SEMM) documentation</span></span>](https://docs.microsoft.com/surface/surface-enterprise-management-mode)
- [<span data-ttu-id="fa332-239">Architettura di Servizi certificati</span><span class="sxs-lookup"><span data-stu-id="fa332-239">Certificate Services Architecture</span></span>](https://docs.microsoft.com/windows/win32/seccrypto/certificate-services-architecture)
- [<span data-ttu-id="fa332-240">Windows Server 2019 inside out</span><span class="sxs-lookup"><span data-stu-id="fa332-240">Windows Server 2019 Inside Out</span></span>](https://www.microsoftpressstore.com/store/windows-server-2019-inside-out-9780135492277)
- [<span data-ttu-id="fa332-241">PKI di Windows Server 2008 e sicurezza del certificato</span><span class="sxs-lookup"><span data-stu-id="fa332-241">Windows Server 2008 PKI and Certificate Security</span></span>](https://www.microsoftpressstore.com/store/windows-server-2008-pki-and-certificate-security-9780735640788)
